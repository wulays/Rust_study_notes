####  所有权系统

所有权系统，Rust 的核心特性，它规定了如何管理内存，以往的编程语言通过手动管理内存或者垃圾回收机制来进行内存的管理

- 手动管理内存
	- 容易忘记释放
	- 多次释放
	- 使用已经释放过的内存（空悬指针）
- 垃圾回收
	- 垃圾回收的运行期间可能导致性能的损失
	- 无法完全消除所有内存错误

而 Rust 采用的是 所有权系统，**编译器在编译时会根据一系列规则进行检查**，因为是在编译期间，所有在程序运行期间，不会有任何的性能损失。缺点就是不咋好学

##### 堆与栈

在其他语言中可能不需要怎么了解堆与栈，对于Rust 这种系统编程语言就需要了，因为值存在堆上还是栈上影响到了程序的行为和性能

> 堆和栈的核心目标就是为程序在运行时提供可以使用的内存空间

###### 栈

栈可以理解为一个装羽毛球的套筒，不过只有一个方向的开口，装羽毛球和拿羽毛球都只能从一个口去拿，这也就有一个特性了，就是**后进先出**，最先放进去的羽毛球，得等后放的羽毛球都拿出去后才能拿出来，增加的羽毛球就叫做**进栈**，移除的就叫做出栈。

因为这种实现方式，所以栈中的数据就都必须时已知固定大小的内存空间，如果数据的大小是不知道的，那么在取出的时候就取不到想要的数据了

###### 堆

和栈不一样，对于未知可能变化的数据，就需要存储在堆上了

当向堆上放入数据的时候，需要请求一定大小的内存空间，操作系统就会在堆的某一个地方找到一个足够大的空位，把它标记为已使用，并且返回一个表示该位置地址的**指针**，这个过程叫做在堆上分配内存（分配） 

随后这个指针就会被存到栈中去，因为指针的值是已知且固定的，然后后续的过程中，就通过栈中的指针来获取数据在堆上的实际内存位置，进而访问该数据

所以，在栈上分配内存时要比堆上分配要快的，只需要将新数据放入栈顶就可以了。相比之下，在堆上分配内存就需要做很多的工作，因为首先要找到一块足够存放数据的内存空间，接着做一些记
录为下一次分配做准备，如果钱进程分配的内存不足时，还需要进行系统调用来申请更多内存。


